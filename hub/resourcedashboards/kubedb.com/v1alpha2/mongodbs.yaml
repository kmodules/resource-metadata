apiVersion: meta.k8s.appscode.com/v1alpha1
kind: ResourceDashboard
metadata:
  creationTimestamp: null
  labels:
    k8s.io/group: kubedb.com
    k8s.io/kind: MongoDB
    k8s.io/resource: mongodbs
    k8s.io/version: v1alpha2
  name: kubedb.com-v1alpha2-mongodbs
spec:
  dashboards:
  - title: KubeDB / MariaDB / Summary
    vars:
    - name: namespace
      value: .metadata.namespace
    - name: db
      value: .metadata.name
  - if:
      condition: '{{- if or (hasKey .spec "replicaSet") (hasKey .spec "shardTopology") }}true{{ else }}false{{ end -}}'
    title: KubeDB / MongoDB / Database / ReplicaSet
    vars:
    - name: namespace
      value: .metadata.namespace
    - name: db
      value: .metadata.name
  - title: KubeDB / MariaDB / Pod
    vars:
    - name: namespace
      value: .metadata.namespace
    - name: db
      value: .metadata.name
  defaultDashboards: true
  provider: Grafana
  resource:
    group: kubedb.com
    kind: MongoDB
    name: mongodbs
    scope: Namespaced
    version: v1alpha2
